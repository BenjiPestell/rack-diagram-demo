graph "Power Distribution" {

  graph [
    rankdir=TB,
    nodesep=0.5,
    ranksep=1.0,
    bgcolor="white",
    label="Power Distribution",
    labelloc=t,
    fontsize=16,
    fontname="Sinkin Sans"
  ];

  node [
    shape=box,
    style="rounded,filled",
    fillcolor="#E8F4F8",
    fontsize=12,
    fontname="Sinkin Sans",
    margin=0.2
  ];

  edge [
    color="#151617",
    style=solid,
    penwidth=4.0
  ];

  // Devices organized by rack

  subgraph cluster_rack1_front {
    label="Rack 1 Front";
    style=filled;
    color="#F0F0F0";
    fontname="Sinkin Sans";
    margin=15;

    "Audio___terrain" [
      label="Audio / terrain",
      fillcolor="#ced3db"
    ];
    "Beckhoff___com_PC" [
      label="Beckhoff / com PC",
      fillcolor="#ced3db"
    ];
    "Dedi_server" [
      label="Dedi server",
      fillcolor="#ced3db"
    ];
    "Fibre___Network_shelf" [
      label="Fibre / Network shelf",
      fillcolor="#FFFFFF"
    ];
    "Operator_PC" [
      label="Operator PC",
      fillcolor="#ced3db"
    ];
    "Physics_PC" [
      label="Physics PC",
      fillcolor="#ced3db"
    ];
    "Speedgoat" [
      label="Speedgoat",
      fillcolor="#519AB5"
    ];
    "Telemetry_PC" [
      label="Telemetry PC",
      fillcolor="#ced3db"
    ];

    // Vertical stacking within rack
    "Audio___terrain" -- "Beckhoff___com_PC" [style=invis];
    "Beckhoff___com_PC" -- "Dedi_server" [style=invis];
    "Dedi_server" -- "Fibre___Network_shelf" [style=invis];
    "Fibre___Network_shelf" -- "Operator_PC" [style=invis];
    "Operator_PC" -- "Physics_PC" [style=invis];
    "Physics_PC" -- "Speedgoat" [style=invis];
    "Speedgoat" -- "Telemetry_PC" [style=invis];
  }

  subgraph cluster_rack1_rear {
    label="Rack 1 Rear";
    style=filled;
    color="#F0F0F0";
    fontname="Sinkin Sans";
    margin=15;

    "R1-PDU-A" [
      label="R1-PDU-A",
      fillcolor="#AAAAAA"
    ];
    "R1-PDU-B" [
      label="R1-PDU-B",
      fillcolor="#AAAAAA"
    ];

    // Vertical stacking within rack
    "R1-PDU-A" -- "R1-PDU-B" [style=invis];
  }

  subgraph cluster_rack2_front {
    label="Rack 2 Front";
    style=filled;
    color="#F0F0F0";
    fontname="Sinkin Sans";
    margin=15;

    "IG1" [
      label="IG1",
      fillcolor="#ced3db"
    ];
    "IG2" [
      label="IG2",
      fillcolor="#ced3db"
    ];
    "IG3" [
      label="IG3",
      fillcolor="#ced3db"
    ];

    // Vertical stacking within rack
    "IG1" -- "IG2" [style=invis];
    "IG2" -- "IG3" [style=invis];
  }

  subgraph cluster_rack2_rear {
    label="Rack 2 Rear";
    style=filled;
    color="#F0F0F0";
    fontname="Sinkin Sans";
    margin=15;

    "R2-PDU-A" [
      label="R2-PDU-A",
      fillcolor="#AAAAAA"
    ];
  }

  // Vertical ordering of racks
  { rank=same; cluster_rack1_front; cluster_rack1_rear; cluster_rack2_front; cluster_rack2_rear; }

  // Connections between devices

  "R1-PDU-A" -- "Audio___terrain" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-A" -- "Telemetry_PC" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-A" -- "Fibre___Network_shelf" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-A" -- "Physics_PC" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-B" -- "Speedgoat" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-B" -- "Operator_PC" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-B" -- "Dedi_server" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R1-PDU-B" -- "Beckhoff___com_PC" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R2-PDU-A" -- "IG1" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R2-PDU-A" -- "IG2" [
    color="#151617", style=solid, penwidth=4.0
  ];
  "R2-PDU-A" -- "IG3" [
    color="#151617", style=solid, penwidth=4.0
  ];

}