graph "Visual Subnet Ethernet" {

  graph [
    rankdir=TB,
    nodesep=0.8,
    ranksep=1.5,
    bgcolor="white",
    label="Visual Subnet Ethernet",
    labelloc=t,
    fontsize=15,
    fontname="Sinkin Sans 400 Regular"
  ];

  node [
    shape=box,
    style="rounded,filled",
    fillcolor="#E8F4F8",
    fontsize=11,
    fontname="Sinkin Sans 400 Regular",
    margin=0.2
  ];

  edge [
    color="#7B1FA2",
    style=solid,
    penwidth=2.5
  ];

  // Sources
  // Sources - External
  "Vis_switch" [
    label="Vis switch"
  ];

  // Compute
  subgraph cluster_tier1_rack1_front {
    label="Rack 1 Front";
    style=dashed;
    color="#999999";
    fontname="Sinkin Sans 400 Regular";

    "Dedi_server" [
      label="Dedi server",
      fillcolor="#ced3db"
    ];
    "Operator_PC" [
      label="Operator PC",
      fillcolor="#ced3db"
    ];
    "Physics_PC" [
      label="Physics PC",
      fillcolor="#ced3db"
    ];
    "Speedgoat" [
      label="Speedgoat",
      fillcolor="#519AB5"
    ];
    "Telemetry_PC" [
      label="Telemetry PC",
      fillcolor="#ced3db"
    ];
  }

  subgraph cluster_tier1_rack2_front {
    label="Rack 2 Front";
    style=dashed;
    color="#999999";
    fontname="Sinkin Sans 400 Regular";

    "IG1" [
      label="IG1",
      fillcolor="#ced3db"
    ];
    "IG2" [
      label="IG2",
      fillcolor="#ced3db"
    ];
    "IG3" [
      label="IG3",
      fillcolor="#ced3db"
    ];
  }

  // Infrastructure
  subgraph cluster_tier2_rack1_front {
    label="Rack 1 Front";
    style=dashed;
    color="#999999";
    fontname="Sinkin Sans 400 Regular";

    "Audio___terrain" [
      label="Audio / terrain",
      fillcolor="#ced3db"
    ];
  }

  // Infrastructure - External
  "Fibre_converter" [
    label="Fibre converter"
  ];

  { rank=same; "Vis_switch"; }
  { rank=same; "Telemetry_PC"; "Physics_PC"; "Speedgoat"; "Operator_PC"; "Dedi_server"; "IG1"; "IG2"; "IG3"; }
  { rank=same; "Audio___terrain"; "Fibre_converter"; }

  // Connections
  "Vis_switch" -- "Audio___terrain" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "Telemetry_PC" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "Fibre_converter" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "Physics_PC" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "Speedgoat" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "Operator_PC" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "Dedi_server" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "IG1" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "IG2" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];
  "Vis_switch" -- "IG3" [
    color="#7B1FA2", style=solid, penwidth=2.5
  ];

}